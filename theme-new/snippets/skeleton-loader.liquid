{%- comment -%}
  Skeleton Loader Component
  Usage: {% render 'skeleton-loader', type: 'product-card' %}
  Types: product-card, product-page, collection-grid, text, image
{%- endcomment -%}

{%- case type -%}
  {%- when 'product-card' -%}
    <div class="skeleton-loader skeleton-loader--product-card">
      <div class="skeleton-loader__image"></div>
      <div class="skeleton-loader__content">
        <div class="skeleton-loader__line skeleton-loader__line--title"></div>
        <div class="skeleton-loader__line skeleton-loader__line--price"></div>
      </div>
    </div>
  {%- when 'product-page' -%}
    <div class="skeleton-loader skeleton-loader--product-page">
      <div class="skeleton-loader__image skeleton-loader__image--large"></div>
      <div class="skeleton-loader__content">
        <div class="skeleton-loader__line skeleton-loader__line--h1"></div>
        <div class="skeleton-loader__line skeleton-loader__line--h2"></div>
        <div class="skeleton-loader__line"></div>
        <div class="skeleton-loader__line"></div>
        <div class="skeleton-loader__line skeleton-loader__line--short"></div>
      </div>
    </div>
  {%- when 'collection-grid' -%}
    <div class="skeleton-loader skeleton-loader--collection-grid">
      {%- for i in (1..8) -%}
        {% render 'skeleton-loader', type: 'product-card' %}
      {%- endfor -%}
    </div>
  {%- when 'text' -%}
    <div class="skeleton-loader skeleton-loader--text">
      <div class="skeleton-loader__line"></div>
      <div class="skeleton-loader__line"></div>
      <div class="skeleton-loader__line skeleton-loader__line--short"></div>
    </div>
  {%- when 'image' -%}
    <div class="skeleton-loader skeleton-loader--image">
      <div class="skeleton-loader__image"></div>
    </div>
  {%- else -%}
    <div class="skeleton-loader">
      <div class="skeleton-loader__line"></div>
    </div>
{%- endcase -%}

<style>
  .skeleton-loader {
    animation: skeleton-pulse 1.5s ease-in-out infinite;
  }

  @keyframes skeleton-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .skeleton-loader__image {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s infinite;
    border-radius: var(--radius-md);
    aspect-ratio: 1 / 1;
  }

  .skeleton-loader__image--large {
    min-height: 500px;
  }

  @keyframes skeleton-shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .skeleton-loader__line {
    height: 16px;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s infinite;
    border-radius: var(--radius-sm);
    margin-bottom: var(--space-sm);
  }

  .skeleton-loader__line--title {
    height: 24px;
    width: 80%;
  }

  .skeleton-loader__line--price {
    height: 20px;
    width: 40%;
  }

  .skeleton-loader__line--h1 {
    height: 40px;
    width: 60%;
    margin-bottom: var(--space-md);
  }

  .skeleton-loader__line--h2 {
    height: 32px;
    width: 50%;
    margin-bottom: var(--space-md);
  }

  .skeleton-loader__line--short {
    width: 60%;
  }

  .skeleton-loader--product-card {
    background: var(--color-white);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
  }

  .skeleton-loader--product-card .skeleton-loader__content {
    padding: var(--space-lg);
  }

  .skeleton-loader--product-page {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-4xl);
  }

  @media (min-width: 1024px) {
    .skeleton-loader--product-page {
      grid-template-columns: 1.2fr 1fr;
    }
  }

  .skeleton-loader--collection-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
  }

  @media (min-width: 640px) {
    .skeleton-loader--collection-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .skeleton-loader--collection-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-xl);
    }
  }

  .skeleton-loader--text {
    padding: var(--space-md);
  }
</style>

