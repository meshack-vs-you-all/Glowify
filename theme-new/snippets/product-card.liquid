<div class="product-card card-hover-premium group" data-product-card style="display: flex; flex-direction: column; height: 100%;">
  <div class="product-card__image-wrapper" style="position: relative; aspect-ratio: 1; overflow: hidden; border-radius: 8px; background: #f5f5f5;">
    <a href="{{ product.url }}" class="product-card__link-image" aria-label="{{ product.title }}">
      {%- if product.featured_image != blank -%}
        <img 
          src="{{ product.featured_image | image_url: width: 500 }}"
          srcset="{{ product.featured_image | image_url: width: 250 }} 250w,
                  {{ product.featured_image | image_url: width: 400 }} 400w,
                  {{ product.featured_image | image_url: width: 500 }} 500w,
                  {{ product.featured_image | image_url: width: 750 }} 750w"
          sizes="(min-width: 1024px) 25vw, (min-width: 640px) 33vw, 50vw"
          alt="{{ product.featured_image.alt | escape }}"
          loading="lazy"
          class="product-card__image"
          decoding="async"
          width="500"
          height="500"
        >
        {%- comment -%} Secondary Image Hover {%- endcomment -%}
        {%- if product.images[1] != blank -%}
          <img 
            src="{{ product.images[1] | image_url: width: 500 }}"
            alt="{{ product.images[1].alt | escape }}"
            loading="lazy"
            class="product-card__image product-card__image--secondary"
            width="500"
            height="500"
          >
        {%- endif -%}
      {%- else -%}
        {{ 'product-1' | placeholder_svg_tag: 'product-card__placeholder' }}
      {%- endif -%}
    </a>
    
    {%- if product.compare_at_price > product.price -%}
      <span class="product-card__badge">{{ 'products.product.on_sale' | t }}</span>
    {%- endif -%}

    <!-- Quick Add Button (Reveals on Hover) -->
    <div class="product-card__actions">
      {%- form 'product', product, class: 'product-card__form' -%}
        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
        <button 
          type="submit" 
          name="add" 
          class="button button--primary product-card__quick-add"
          {% unless product.available %}disabled{% endunless %}
        >
          {%- if product.available -%}
            <span>{{ 'products.product.add_to_cart' | t }}</span>
          {%- else -%}
            <span>{{ 'products.product.sold_out' | t }}</span>
          {%- endif -%}
        </button>
      {%- endform -%}
    </div>
  </div>

  <div class="product-card__content">
    {%- if show_swatches -%}
      {%- for option in product.options_with_values -%}
        {%- if option.name == 'Color' or option.name == 'Colour' -%}
          <div class="product-card__swatches">
            {%- for value in option.values limit: 5 -%}
              <div class="product-card__swatch" title="{{ value }}" {% render 'color-swatch', value: value %}></div>
            {%- endfor -%}
            {%- if option.values.size > 5 -%}
              <span class="product-card__swatch-more">+{{ option.values.size | minus: 5 }}</span>
            {%- endif -%}
          </div>
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}

    <h3 class="product-card__title">
      <a href="{{ product.url }}">{{ product.title }}</a>
    </h3>
    
    <div class="product-card__price price-component price-component--small">
      {%- if product.compare_at_price > product.price -%}
        <span class="price-item price-item--sale">{{ product.price | money }}</span>
        <span class="price-item price-item--compare">{{ product.compare_at_price | money }}</span>
      {%- else -%}
        <span class="price-item price-item--regular">{{ product.price | money }}</span>
      {%- endif -%}
    </div>
  </div>
</div>



