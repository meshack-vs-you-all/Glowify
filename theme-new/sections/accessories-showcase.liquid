{%- comment -%}
  Accessories Showcase Section
  Highlights complementary products or bundles.
  Dynamic: connect to real products via Schema.
{%- endcomment -%}

<section class="section accessories-showcase" id="accessories-{{ section.id }}">
  <div class="page-width">
    <div class="section-header text-center">
      <h2 class="section-title">{{ section.settings.title }}</h2>
      <p class="section-subtitle">{{ section.settings.subtitle }}</p>
    </div>

    <div class="accessories-grid">
      {%- assign products_to_show = section.settings.product_list -%}
      
      {%- comment -%} Fallback if no products selected {%- endcomment -%}
      {%- if products_to_show == blank -%}
        {%- assign products_to_show = collections.all.products | limit: 4 -%}
      {%- endif -%}

      {%- for product in products_to_show -%}
        {% render 'product-card', product: product, show_quick_add: true, show_swatches: false %}
      {%- else -%}
        {%- for i in (1..4) -%}
           <div class="product-card">
              <div class="product-card__image-wrapper" style="background: #f0f0f0; height: 300px;">
                {{ 'product-' | append: i | placeholder_svg_tag: 'product-card__placeholder' }}
              </div>
              <div class="product-card__content">
                 <h3>Example Product {{ i }}</h3>
                 <span>$0.00</span>
              </div>
           </div>
        {%- endfor -%}
      {%- endfor -%}
    </div>
    
    {%- if section.settings.show_view_all -%}
      <div class="text-center" style="margin-top: 3rem;">
        <a href="{{ section.settings.view_all_link | default: routes.all_products_collection_url }}" class="button button--secondary">
          {{ section.settings.view_all_text }}
        </a>
      </div>
    {%- endif -%}
  </div>
</section>

<style>
  .accessories-showcase {
    padding: 4rem 0;
    background: #fafafa;
  }

  .section-header {
    margin-bottom: 3rem;
    text-align: center;
  }

  .section-title {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    color: #1a1a1a;
  }

  .section-subtitle {
    color: #666;
    font-size: 1.1rem;
  }

  .accessories-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .accessories-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: 2rem;
    }
  }
</style>

{% schema %}
{
  "name": "Accessories Showcase",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Complete The Look"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Essential accessories for your journey."
    },
    {
      "type": "product_list",
      "id": "product_list",
      "label": "Products",
      "limit": 4
    },
    {
      "type": "checkbox",
      "id": "show_view_all",
      "label": "Show 'View All' button",
      "default": true
    },
    {
      "type": "text",
      "id": "view_all_text",
      "label": "Button Text",
      "default": "View All Accessories"
    },
    {
      "type": "url",
      "id": "view_all_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Accessories Showcase"
    }
  ]
}
{% endschema %}
