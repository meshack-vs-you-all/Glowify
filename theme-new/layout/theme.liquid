<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="{{ settings.accent_color }}">
    <link rel="canonical" href="{{ canonical_url }}">

    {%- if settings.favicon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endif -%}

    {%- comment -%} Preconnect to critical domains {%- endcomment -%}
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
    
    {%- comment -%} Preload LCP Image (Hero V2) {%- endcomment -%}
    {%- if template.name == 'index' -%}
      <link rel="preload" as="image" href="{{ 'hero-1.jpg' | asset_url }}" imagesrcset="{{ 'hero-1.jpg' | asset_url }} 800w, {{ 'hero-1.jpg' | asset_url }} 1200w" imagesizes="(min-width: 768px) 50vw, 100vw" fetchpriority="high">
    {%- endif -%}

    <title>
      {{ page_title }}
      {%- if current_tags %} &ndash; {{ 'general.meta.tags' | t: tags: current_tags | join: ', ' }}{% endif -%}
      {%- if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif -%}
      {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
    </title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}

    {% render 'meta-tags' %}

    {%- comment -%} Critical CSS (Inlined for LCP) {%- endcomment -%}


    {% style %}
      :root {
        --font-heading-family: 'Tenor Sans', sans-serif;
        --font-heading-weight: 400;
        --font-heading-style: normal;
        --font-body-family: 'Inter', sans-serif;
        --font-body-weight: 400;
        --font-body-style: normal;
        --font-body-weight-bold: 600;

        --color-accent: {{ settings.accent_color }};
        --color-text: {{ settings.text_color }};
        --color-background: {{ settings.background_color }};
      }
      
      /* Critical Base Styles */
      body { margin: 0; font-family: var(--font-body-family); font-size: 1rem; line-height: 1.5; color: var(--color-text); background: var(--color-background); }
      img { max-width: 100%; height: auto; display: block; }
      .page-width { max-width: 1440px; margin: 0 auto; padding: 0 1.5rem; }
      .visually-hidden { position: absolute !important; overflow: hidden; width: 1px; height: 1px; margin: -1px; padding: 0; border: 0; clip: rect(0 0 0 0); word-wrap: normal !important; }
      
      /* Critical Header Styles */
      .site-header { position: sticky; top: 0; left: 0; width: 100%; z-index: 50; background-color: #fff; border-bottom: 1px solid rgba(0,0,0,0.04); }
      .header__wrapper { height: 70px; display: flex; align-items: center; }
      .header__inner { display: flex; align-items: center; justify-content: space-between; width: 100%; margin: 0 auto; padding: 0 1.5rem; max-width: 1280px; }
      .header__nav { flex: 1; display: flex; justify-content: center; }
      .header__nav-list { display: flex; gap: 32px; list-style: none; margin: 0; padding: 0; }
      .header__nav-link { font-size: 15px; font-weight: 500; color: #1a1a1a; text-decoration: none; text-transform: uppercase; letter-spacing: 0.04em; }
      @media (max-width: 989px) { .hidden-mobile { display: none; } }
      @media (min-width: 990px) { .hidden-desktop-up { display: none; } }
    {% endstyle %}

    {%- comment -%} Deferred Non-Critical CSS {%- endcomment -%}
    <link rel="stylesheet" href="{{ 'base.css' | asset_url }}" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="{{ 'animations.css' | asset_url }}" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="{{ 'performance.css' | asset_url }}" media="print" onload="this.media='all'">
    <noscript>{{ 'base.css' | asset_url | stylesheet_tag }}</noscript>

    {%- comment -%} Deferred Scripts {%- endcomment -%}
    <script src="{{ 'global.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'theme.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'cart.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'recently-viewed.js' | asset_url }}" defer="defer"></script>

    <script>document.documentElement.className = document.documentElement.className.replace('no-js', 'js');</script>
    
    {%- comment -%} SEO Structured Data {%- endcomment -%}
    {% render 'structured-data', type: 'website' %}
    {% render 'structured-data', type: 'organization' %}

    {{ content_for_header }}
  </head>

  <body class="template-{{ template.name | handle }} template-{{ template.suffix | handle }}">
    <a class="skip-to-content-link button visually-hidden" href="#MainContent">
      {{ 'general.accessibility.skip_to_text' | t }}
    </a>

    {% section 'announcement-bar' %}
    {% section 'header' %}

    <main id="MainContent" class="content-for-layout focus-none" role="main" tabindex="-1">
      {{ content_for_layout }}
    </main>

    {%- comment -%} FAQ Section - Before Footer {%- endcomment -%}
    {% section 'faq-accordion' %}

    {% section 'footer' %}
    
    {%- comment -%} Global Components {%- endcomment -%}
    {% render 'cart-drawer' %}
    {% render 'mobile-search' %}
    {% render 'quick-view-modal' %}
    
    {% render 'discount-popup' %}
    {% render 'toast' %}

    <ul hidden>
      <li id="a11y-refresh-page-message">{{ 'accessibility.refresh_page' | t }}</li>
    </ul>

    <script>
      window.shopUrl = '{{ shop.url }}';
      window.routes = {
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}',
        predictive_search_url: '{{ routes.predictive_search_url }}'
      };

      window.cartStrings = {
        error: `{{ 'sections.cart.cart_error' | t }}`,
        quantityError: `{{ 'sections.cart.cart_quantity_error_html' | t: quantity: '[quantity]' }}`
      }

      window.variantStrings = {
        addToCart: `{{ 'products.product.add_to_cart' | t }}`,
        soldOut: `{{ 'products.product.sold_out' | t }}`,
        unavailable: `{{ 'products.product.unavailable' | t }}`,
      }
    </script>
  </body>
</html>

